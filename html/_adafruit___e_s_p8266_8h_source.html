<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Adafruit ESP8266 Library: Adafruit_ESP8266.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Adafruit ESP8266 Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Adafruit_ESP8266.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*------------------------------------------------------------------------</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment">  An Arduino library for the ESP8266 WiFi-serial bridge</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment">  https://www.adafruit.com/product/2282</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment">  The ESP8266 is a 3.3V device.  Safe operation with 5V devices (most</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment">  Arduino boards) requires a logic-level shifter for TX and RX signals.</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment">  Adafruit invests time and resources providing this open source code,</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment">  please support Adafruit and open-source hardware by purchasing</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment">  products from Adafruit!</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"></span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment">  Written by Limor Fried and Phil Burgess for Adafruit Industries.</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment">  MIT license, all text above must be included in any redistribution.</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment">  ------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef _ADAFRUIT_ESP8266_H_</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define _ADAFRUIT_ESP8266_H_</span></div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;Arduino.h&gt;</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#define ESP_RECEIVE_TIMEOUT 1000L</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#define ESP_RESET_TIMEOUT 5000L</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#define ESP_CONNECT_TIMEOUT 15000L</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#define ESP_IPD_TIMEOUT 120000L</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">typedef</span> <span class="keyword">const</span> __FlashStringHelper Fstr; <span class="comment">// PROGMEM/flash-resident string</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="keyword">typedef</span> <span class="keyword">const</span> PROGMEM <span class="keywordtype">char</span> Pchr;        <span class="comment">// Ditto, kindasorta</span></div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#define defaultBootMarker F(&quot;ready\r\n&quot;)</span></div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="class_adafruit___e_s_p8266.html">   34</a></span>&#160;<span class="keyword">class </span><a class="code" href="class_adafruit___e_s_p8266.html">Adafruit_ESP8266</a> : <span class="keyword">public</span> Print {</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <a class="code" href="class_adafruit___e_s_p8266.html#a81ff07d376d2c60fdf482b9e1e3e51bf">Adafruit_ESP8266</a>(Stream *s = &amp;Serial, Stream *d = NULL, int8_t r = -1);</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="keywordtype">boolean</span> <a class="code" href="class_adafruit___e_s_p8266.html#a9d6d4e9902fe4750852579cda50a9876">hardReset</a>(<span class="keywordtype">void</span>), <a class="code" href="class_adafruit___e_s_p8266.html#a551739d7b52af587e4a3f6de12f7edce">softReset</a>(<span class="keywordtype">void</span>),</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <a class="code" href="class_adafruit___e_s_p8266.html#a8c6cc69e306adaa426f5b41e9d17e2e7">find</a>(Fstr *str = NULL, <span class="keywordtype">boolean</span> ipd = <span class="keyword">false</span>),</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;      <a class="code" href="class_adafruit___e_s_p8266.html#ab075e2482a523f40672aab1a07ab4321">connectToAP</a>(Fstr *ssid, Fstr *pass), <a class="code" href="class_adafruit___e_s_p8266.html#a26a6810ab200ab92b9d33873e729c711">connectTCP</a>(Fstr *host, <span class="keywordtype">int</span> port),</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;      <a class="code" href="class_adafruit___e_s_p8266.html#afdaaa69572d1da3021360125cae915a7">requestURL</a>(Fstr *url), <a class="code" href="class_adafruit___e_s_p8266.html#afdaaa69572d1da3021360125cae915a7">requestURL</a>(<span class="keywordtype">char</span> *url);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="class_adafruit___e_s_p8266.html#aac4157b78812caf908cca00c22f562f5">readLine</a>(<span class="keywordtype">char</span> *buf, <span class="keywordtype">int</span> bufSiz);</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="class_adafruit___e_s_p8266.html#a1d53d4eee04a67303c81c102265bd6d6">closeAP</a>(<span class="keywordtype">void</span>), <a class="code" href="class_adafruit___e_s_p8266.html#a13439624c6104cc45fb17fc043c18adf">closeTCP</a>(<span class="keywordtype">void</span>), <a class="code" href="class_adafruit___e_s_p8266.html#ac61696fe51dbcef4e81e94181312c718">debugLoop</a>(<span class="keywordtype">void</span>),</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;      <a class="code" href="class_adafruit___e_s_p8266.html#a34ff8851a50115982dd0f73abde0e8da">setTimeouts</a>(uint32_t rcv = ESP_RECEIVE_TIMEOUT,</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                  uint32_t rst = ESP_RESET_TIMEOUT,</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;                  uint32_t con = ESP_CONNECT_TIMEOUT,</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                  uint32_t ipd = ESP_IPD_TIMEOUT),</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <a class="code" href="class_adafruit___e_s_p8266.html#ae896da9e1f9796e8843ea52d169e24a7">setBootMarker</a>(Fstr *s = NULL);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;  Stream *stream, <span class="comment">// -&gt; ESP8266, e.g. SoftwareSerial or Serial1</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      *debug;     <span class="comment">// -&gt; host, e.g. Serial</span></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  uint32_t receiveTimeout, resetTimeout, connectTimeout, ipdTimeout;</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;  int8_t reset_pin; <span class="comment">// -1 if RST not connected</span></div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;  Fstr *host,       <span class="comment">// Non-NULL when TCP connection open</span></div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;      *bootMarker;  <span class="comment">// String indicating successful boot</span></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  <span class="keywordtype">boolean</span> writing;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;  <span class="keyword">virtual</span> <span class="keywordtype">size_t</span> write(uint8_t); <span class="comment">// Because Print subclass</span></div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;};</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="preprocessor">#endif // _ADAFRUIT_ESP8266_H_</span></div><div class="ttc" id="class_adafruit___e_s_p8266_html_a551739d7b52af587e4a3f6de12f7edce"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a551739d7b52af587e4a3f6de12f7edce">Adafruit_ESP8266::softReset</a></div><div class="ttdeci">boolean softReset(void)</div><div class="ttdoc">Software reset. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:230</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a9d6d4e9902fe4750852579cda50a9876"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a9d6d4e9902fe4750852579cda50a9876">Adafruit_ESP8266::hardReset</a></div><div class="ttdeci">boolean hardReset(void)</div><div class="ttdoc">ESP8266 is reset by momentarily connecting RST to GND. Level shifting is not necessary provided you d...</div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:213</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_ab075e2482a523f40672aab1a07ab4321"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#ab075e2482a523f40672aab1a07ab4321">Adafruit_ESP8266::connectToAP</a></div><div class="ttdeci">boolean connectToAP(Fstr *ssid, Fstr *pass)</div><div class="ttdoc">Connect to WiFi access point. SSID and password are flash-resident strings. May take several seconds ...</div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:272</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_ac61696fe51dbcef4e81e94181312c718"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#ac61696fe51dbcef4e81e94181312c718">Adafruit_ESP8266::debugLoop</a></div><div class="ttdeci">void debugLoop(void)</div><div class="ttdoc">For interactive debugging...shuttle data between Serial Console &lt;-&gt; WiFi. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:249</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a26a6810ab200ab92b9d33873e729c711"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a26a6810ab200ab92b9d33873e729c711">Adafruit_ESP8266::connectTCP</a></div><div class="ttdeci">boolean connectTCP(Fstr *host, int port)</div><div class="ttdoc">Open TCP connection. Hostname is flash-resident string. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:316</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_aac4157b78812caf908cca00c22f562f5"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#aac4157b78812caf908cca00c22f562f5">Adafruit_ESP8266::readLine</a></div><div class="ttdeci">int readLine(char *buf, int bufSiz)</div><div class="ttdoc">Read from ESP8266 stream into RAM, up to a given size. Max number of chars read is 1 less than this...</div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:187</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_ae896da9e1f9796e8843ea52d169e24a7"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#ae896da9e1f9796e8843ea52d169e24a7">Adafruit_ESP8266::setBootMarker</a></div><div class="ttdeci">void setBootMarker(Fstr *s=NULL)</div><div class="ttdoc">Override boot marker string, or pass NULL to restore default. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:68</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a13439624c6104cc45fb17fc043c18adf"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a13439624c6104cc45fb17fc043c18adf">Adafruit_ESP8266::closeTCP</a></div><div class="ttdeci">void closeTCP(void)</div><div class="ttdoc">Close current connection. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:334</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html"><div class="ttname"><a href="class_adafruit___e_s_p8266.html">Adafruit_ESP8266</a></div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.h:34</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a34ff8851a50115982dd0f73abde0e8da"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a34ff8851a50115982dd0f73abde0e8da">Adafruit_ESP8266::setTimeouts</a></div><div class="ttdeci">void setTimeouts(uint32_t rcv=ESP_RECEIVE_TIMEOUT, uint32_t rst=ESP_RESET_TIMEOUT, uint32_t con=ESP_CONNECT_TIMEOUT, uint32_t ipd=ESP_IPD_TIMEOUT)</div><div class="ttdoc">Override various timings.Passing 0 for an item keeps current setting. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:47</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_afdaaa69572d1da3021360125cae915a7"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#afdaaa69572d1da3021360125cae915a7">Adafruit_ESP8266::requestURL</a></div><div class="ttdeci">boolean requestURL(Fstr *url)</div><div class="ttdoc">Requests page from currently-open TCP connection. URL is flash-resident string. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:347</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a81ff07d376d2c60fdf482b9e1e3e51bf"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a81ff07d376d2c60fdf482b9e1e3e51bf">Adafruit_ESP8266::Adafruit_ESP8266</a></div><div class="ttdeci">Adafruit_ESP8266(Stream *s=&amp;Serial, Stream *d=NULL, int8_t r=-1)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:29</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a1d53d4eee04a67303c81c102265bd6d6"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a1d53d4eee04a67303c81c102265bd6d6">Adafruit_ESP8266::closeAP</a></div><div class="ttdeci">void closeAP(void)</div><div class="ttdoc">Close current connection. </div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:303</div></div>
<div class="ttc" id="class_adafruit___e_s_p8266_html_a8c6cc69e306adaa426f5b41e9d17e2e7"><div class="ttname"><a href="class_adafruit___e_s_p8266.html#a8c6cc69e306adaa426f5b41e9d17e2e7">Adafruit_ESP8266::find</a></div><div class="ttdeci">boolean find(Fstr *str=NULL, boolean ipd=false)</div><div class="ttdoc">Equivalent to Arduino Stream find() function, but with search string in flash/PROGMEM rather than RAM...</div><div class="ttdef"><b>Definition:</b> Adafruit_ESP8266.cpp:108</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
